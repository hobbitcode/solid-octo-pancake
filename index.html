<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Parent App</title>
  <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet" type="text/css">
  <link href="https://unpkg.com/vuetify/dist/vuetify.min.css" rel="stylesheet" type="text/css"></link>
  <link href="styles.css" rel="stylesheet" type="text/css">
  <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32">
</head>
<body>
<h1>Parent Heading</h1>
<iframe id="1" src="https://agreeable-melon.flowt.io/" style="width:100%;height:700px"></iframe>

  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <script src="https://unpkg.com/vuetify/dist/vuetify.js"></script>
  <script>
    Vue.component('page', {
      template: '#page'
    })
    new Vue({
      data: {
      },
      created: function() {
        window.onmessage = function(e){
            if (e.data === 'hello') {
                alert('It works! This message is sourced from a different child app that is being iFramed. ');
            }
            if (e.data === 'success') {
              // VPS will onmessage success after axios call to server comes back as successful
              // In response, Sturgis will close/remove VPS iFrame here and route to appropriate internal components
              document.getElementById("1").style.display="none" //etc.
            }
            if (e.data === 'cancel') {
              // VPS will onmessage cancel is citizen chooses to do so
              // In response, Sturgis will close/remove VPS iFrame here and route to appropriate internal components
              document.getElementById("1").style.display="none" //etc.
            }
        };
      }
    })

  </script>
</body>
</html>
